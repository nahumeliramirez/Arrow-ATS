<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title><!--(auto-fill by runme.js--></title>

    <!-- ChiliPeppr is based on bootstrap CSS. -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- Customized version of require.js for ChiliPeppr. Please see require.js docs for how
    ChiliPeppr's dependency system works as it's based on require.js. -->
    <script type='text/javascript' src="//i2dcui.appspot.com/js/require.js"></script>

    <!-- widget.css DON'T REMOVE -->
    <style type='text/css'>
        /* widget.css will get inlined here by runme.js. don't remove this comment or inlining will fail. */
    </style>
    <link rel="stylesheet" type="text/css" href="widget.css">
    <!-- DON'T REMOVE end widget.css -->

    <!-- widget.js DON'T REMOVE -->
    <script type='text/javascript'>
        //<![CDATA[
        /* widget.js will get inlined here by runme.js. don't remove this comment or inlining will fail. */
        //]]>
    </script>
    <script type='text/javascript' src="widget.js"></script>
    <!-- DON'T REMOVE end widget.js -->

</head>

<body>

    <!--Put HTML Contents of Widget Here-->
    <div id="com-chilipeppr-widget-tinyg" class="panel panel-default">
        <div class="panel-heading">
            <div class="btn-toolbar pull-right" role="toolbar">
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default btn-danger tinyg-feedhold" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Feedhold" data-content="Stop movement immediately. Maintains positional accuracy. Sends ! command to TinyG which jumps past the planner buffer so you get immediate stop. Movement can be resumed with ~ command. If you want to jog you should flush queue with %.">
                        <!-- <span class="glyphicon glyphicon-pause"></span> --><span style="font-size:10px;">Feedhold</span> !</button>
                    <button type="button" class="btn btn-xs btn-default tinyg-cyclestart" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Cycle Start" data-content="Resume movement from stopping point"><span class="">~</span>

                    </button>
                    <button type="button" class="btn btn-xs btn-default tinyg-queueflush" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Queue Flush" data-content="Empty planner buffer. Used for jogging and other cycles"><span class="">%</span>

                    </button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default tinyg-ctrlx" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Reset TinyG" data-content="Sends a Ctrl-X to TinyG to reset it. You should see the LED's blink that TinyG is resetting."><span style="font-size:7px;">Reset</span>

                    </button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default tinyg-motors-energize" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Energize Motors" data-content="Fully energize motors so you can do things like a tool change without moving your axis accidentally."><span class="glyphicon glyphicon-flash"></span>

                        <!-- <span style="margin-left:-2px;opacity:0.5;" class="glyphicon glyphicon-ok"></span> -->
                    </button>
                    <button type="button" class="btn btn-xs btn-default tinyg-motors-unenergize" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Unenergize Motors" data-content="Turn off the full power to the motors. Puts motors back into your configured motor settings."><span style="opacity:0.5" class="glyphicon glyphicon-flash"></span>

                        <!-- <span style="margin-left:-2px;opacity:0.5;" class="glyphicon glyphicon-remove"></span> -->
                    </button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default com-chilipeppr-kevinhauser-widget-configtinyg" data-delay="1000" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-html="true" data-title="Configure TinyG Settings"
                    data-content="An extensive dialog box for configuring the TinyG visually. <br/><br/>Credit goes to Kevin Hauser for building this dialog box."><span class="glyphicon glyphicon-cog"></span>

                    </button>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-xs btn-default hidebody"><span class="glyphicon glyphicon-chevron-up"></span>

                    </button>
                </div>
                <div class="btn-group">
                    <div class="dropdown">
                        <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span>

                        </button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <!-- <li class="divider"></li> -->
                            <!-- <li role="presentation" class="dropdown-header fork-name"></li> -->
                            <li><a href="https://github.com/synthetos/TinyG-Updater/releases" target="_blank" class="com-chilipeppr-synthetos-firmwareupdater">Download Firmware Updater App</a>

                            </li>
                            <li><a href="javascript:" target="_blank" class="com-chilipeppr-kevinhauser-widget-configtinyg">Configure</a>

                            </li>
                            <!--<li><a href="http://chilipeppr.com/tinyg?v9=true" target="" class="standalone">TinyG v9 Version of Workspace</a>
                        </li>-->
                            <!-- <li><a href="javascript:" target="_blank" class="com-chilipeppr-kevinhauser-widget-configtinyg">Configure</a>
                        </li> -->
                            <li><a href="http://chilipeppr.com/tinyg?v9=true" target="" class="standalone" data-delay="100" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-html="true" data-title="" data-content="Advanced Users Only. This reloads the workspace into a mode where it will not send all of the init commands to TinyG when you connect. This is useful when trying out new firmware where the large set of inits that are sent by default could cause problems.">Send No Init Cmds Mode</a>

                            </li>
                            <!-- <li>
                            <a href="" target="_blank" class="fork">Fork Widget</a>
                        </li> -->
                        </ul>
                    </div>
                </div>
            </div> <span class="panel-title" data-toggle="popover" style="font-size:12px;">TinyG</span> <span style="font-size:9px;" class="fb-build"></span>

        </div>
        <div id="com-chilipeppr-widget-tinyg-body" class="panel-body">
            <div class="alert alert-danger hidden fb-alert" style="margin:-16px -16px 16px -16px;">
                <button type="button" class="close" aria-hidden="true" onclick="$('#com-chilipeppr-widget-tinyg .fb-alert').addClass('hidden');">Ã—</button><span class="" onclick="$('#com-chilipeppr-widget-xyz-firmwareWarning').modal('show');  ">TinyG firmware 440.18 recommended. Click for info.</span>

            </div>
            <div class="container-fluid com-chilipeppr-interface-cnccontroller-stat">
                <div class="row">
                    <div class="col col-xs-3">Planner</div>
                    <div class="col col-xs-5">
                        <div class="progress bufferprogress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="6" aria-valuemin="0" aria-valuemax="28" style="width: 50%;"> <span class="" style="min-width:20px;">Unknown</span>

                            </div>
                        </div>
                    </div>
                    <div class="col col-xs-2">Min/Max</div>
                    <div class="col col-xs-2 well"> <span class="stat-plannerminmax">--/--</span>

                    </div>
                </div>
                <div class="row hidden">
                    <div class="col col-xs-3 pktmodelbl">LineMode</div>
                    <div class="col col-xs-5">
                        <div class="progress pktmodeprogress">
                            <div class="progress-bar" role="progressbar" aria-valuenow="6" aria-valuemin="0" aria-valuemax="28" style="width: 50%;"> <span class="" style="min-width:20px;">Unknown</span>

                            </div>
                        </div>
                    </div>
                    <div class="col col-xs-2">Min/Max</div>
                    <div class="col col-xs-2 well"> <span class="stat-pktmodeminmax">--/--</span>

                    </div>
                </div>
                <!-- row -->
                <!-- Planner Stats -->
                <!-- <div class="row stat-row">
                <div class="col col-xs-3">
                    Planner Min
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-plannermin">-</span>
                </div>
                <div class="col col-xs-3 lblpad">
                    Planner Max
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-feedrate">-</span>
                </div>
            </div> -->
                <!-- row -->
                <div class="row stat-row">
                    <div class="col col-xs-3">Velocity</div>
                    <div class="col col-xs-3 well"> <span class="stat-velocity">0.00</span> <span class="stat-unit">mm/min</span>

                    </div>
                    <div class="col col-xs-3 lblpad">Feed&nbsp;Rate</div>
                    <div class="col col-xs-3 well"> <span class="stat-feedrate">0</span> <span class="stat-unit">mm/min</span>
                    </div>
                </div>
                <!-- row -->
                <div class="row stat-row">
                    <div class="col col-xs-3">Line</div>
                    <div class="col col-xs-3 well"> <span class="stat-line">-</span>

                    </div>
                    <div class="col col-xs-3 lblpad">State</div>
                    <div class="col col-xs-3 well"> <span class="stat-sm stat-state">-</span>

                    </div>
                </div>
                <!-- row -->
                <div class="row stat-row">
                    <div class="col col-xs-3">Units</div>
                    <div class="col col-xs-3 well"> <span class="stat-units">-</span>

                    </div>
                    <div class="col col-xs-3 lblpad">Coords</div>
                    <div class="col col-xs-3 well"> <span class="stat-coords">-</span>

                    </div>
                </div>
                <!-- row -->
                <div class="row stat-row">
                    <div class="col col-xs-3">Motion</div>
                    <div class="col col-xs-3 well"> <span class="stat-sm stat-motion">-</span>

                    </div>
                    <div class="col col-xs-3 lblpad">Plane</div>
                    <div class="col col-xs-3 well"> <span class="stat-smx stat-plane">-</span>

                    </div>
                </div>
                <!-- row -->
                <div class="row stat-row">
                    <div class="col col-xs-3">Path</div>
                    <div class="col col-xs-3 well"> <span class="stat-sm stat-path">-</span>

                    </div>
                    <div class="col col-xs-3 lblpad">Distance</div>
                    <div class="col col-xs-3 well"> <span class="stat-sm stat-distance">-</span>

                    </div>
                </div>
                <!-- row -->
                <div class="row stat-row hidden com-chilipeppr-widget-tinyg-fro-row">
                    <table style="width:100%;margin-top:4px;">
                        <tr>
                            <td style="white-space:nowrap;">Feed Rate Override&nbsp;</td>
                            <td style="white-space:nowrap;">
                                <button type="button" class="btn btn-xs btn-default com-chilipeppr-widget-tinyg-fro-1xbtn">1x</button>&nbsp;</td>
                            <td style="width:100%;">
                                <input type="range" id="com-chilipeppr-widget-tinyg-fro" value="1.0" step="0.05" max="10.0" min="0.05" />
                            </td>
                            <td>&nbsp;</td>
                            <td style="white-space:nowrap;">
                                <div class="com-chilipeppr-widget-tinyg-fro-val">-</div>
                            </td>
                        </tr>
                    </table>
                    <!-- <div class="row stat-row hidden com-chilipeppr-widget-tinyg-fro-row">
                <div class="col col-xs-5">Feed Rate Override <button type="button" class="btn btn-xs btn-default">1x</button></div>
                <div class="col col-xs-1"></div>
                <div class="col col-xs-5">
                    <input type="range" id="com-chilipeppr-widget-tinyg-fro" value="1.0" step="0.05" max="10.0" min="0.05" />
                </div>
                <div class="col col-xs-2 well"><span class="com-chilipeppr-widget-tinyg-fro-val">-</span>&nbsp;</div>
            </div> -->
                </div>
            </div>
            <div id="com-chilipeppr-widget-tinyg-ftr" class="panel-footer hidden"></div>
        </div>
        <div id="com-chilipeppr-widget-tinyg-holderAreaForConfigWidget" class="xhidden"></div>
        <div class="modal fade" id="com-chilipeppr-widget-xyz-firmwareWarning" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-danger">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Your TinyG Contains Downlevel Firmware</h4>

                    </div>
                    <div class="modal-body">The TinyG connected to ChiliPeppr is running firmware build <span class="fb-build">x</span>. ChiliPeppr requires 440.15 or above for full and correct functionality.
                        <br/>
                        <br/>There are known issues in 440.14 and prior relases, including some commands and functions that do not work properly. Some examples:
                        <ul>
                            <li>G28.3 command (which breaks the "Set Mch Zero" button)</li>
                            <li>G10 L2 command (which breaks the "Set <span id="com-chilipeppr-xyz-dim">G54</span> Zero" button)</li>
                            <li>Probing in 'inch' mode</li>
                        </ul>Any of these can lead to offset machine coordinates, broken bits, hitting the end of rails, and more... it is very strongly recommended that you upgrade your TinyG before proceeding.
                        <hr/>The 440.18 release of TinyG firmware is avalable <a href="http://synthetos.github.io/" target="_blank">here</a>
                        <hr>Upgrading firmware resets your configuration to factory defaults! Save it first! For example, save the output of a $$ command.
                        <br/>
                        <hr>If you choose NOT to upgrade, to run at 440.14 or below, please note:
                        <ul>
                            <li>Avoid using any work offsets, such as G55, and so forth. Just let it default to G54 and leave it that way.</li>
                            <li>The old "Machine Zero" button is roughly equivalent to the new "Set Mch Zero" button.</li>
                            <li>The old "Work Zero" button is roughly equivalent to the new "Set G54 Zero" button.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

</body>

</html>
